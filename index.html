<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>intro</title>
    <meta name="description" content="intro">
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene id="scene">
      <a-assets>
        <img id="grass" src="trawa-w-rolkach.jpg">
        <img id="brick" src="home-brick.jpg">


        </a-box>
      </a-assets>


      <a-box
        height="2"
        width="2"
        src="#brick"
        depth=3
        position="-4 0 -4"
        scale="0.5 2.4 0.5"
        id="BrickBox"
        metalness="0"
        roughness="1">

        <a-animation
          attribute="rotation"
          dur="1000" fill="forwards"
          to="0 360 0"
          begin="click"
          repeat="indefinite">
        </a-animation>
      </a-box>

      <a-box
        height="0.5"
        width="40"
        depth="40"
        position="0 -0.5 0"
        src="#grass"
        roughness="1"
        metalness="0"
        >

      </a-box>



      <a-camera position="0 10 0">
        <a-cursor color="#FF0000" />
      </a-camera>

      <a-light
        type="spot"
        color="#FF0000"
        position="0 6 20"
        look-at="#TestBox">
      </a-light>

      <a-light
        type="point"
        color="#FF9Fc5"
        position="-6 6 20"
        look-at="#TestBox" > </a-light>

      <a-sky src="sky_povray.jpg" color="#FF9Fc5"> </a-sky>
    </a-scene>

    <script>
      var box = document.querySelector("#BrickBox");
      var wall = document.querySelector("#Wall");
      var scene = document.getElementById('scene');
      box.addEventListener('mouseenter', function(){
          box.setAttribute('scale',{
              x:2,
              y:1,
              z:1
            }
          )
    });
    function CreateWall(position, rotation, id) {
      var element = document.createElement('a-box');
      element.setAttribute('height', '10');
      element.setAttribute('width', '0.01');
      element.setAttribute('depth', '8');
      element.setAttribute('color', 'green');
      element.setAttribute('roughness', '1');
      element.setAttribute('metalness', '0');
      element.setAttribute("position", position[0] + ' ' + position[1] + ' ' + position[2]);
      element.setAttribute('rotation', rotation);
     element.setAttribute('id', id );
      scene.appendChild(element);
      console.log(element.id)
    }

    function perfectMaze(n, lenght) {

     var state1 = [-n*lenght/2, -0.25 ,-(n*lenght/2) + (lenght/2)];
     var state2 = [(-n*lenght/2) + (lenght/2), -0.25 ,-(n*lenght/2)];
     var rotation = "0 0 0";
       for( var j = 0; j <= n; j++ ) {
         for(var i = 0; i < n; i++ ) {
           let z = (j-1) + " " + i + " y " + j + " " + i;
             CreateWall(state1, rotation, (j-1) + " " + i + " y " + j + " " + i);
             CreateWall(state2,"0 90 0", i + " " + (j-1) + " x " + i + " " + j );

           state1[2] = state1[2] + lenght;
           state2[0] = state2[0] + lenght;
         }
         state1[0] = state1[0] + lenght;
         state1[2] = -(n*lenght/2) + (lenght/2);
         state2[2] = state2[2] + lenght;
         state2[0] = (-n*lenght/2) + (lenght/2);
      }
    }
    perfectMaze(3, 8);
    </script>
  </body>
</html>
